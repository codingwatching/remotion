---
image: /generated/articles-docs-captions-guide-examples.png
title: Caption Examples
crumb: 'Captions Guide'
---

# Caption Examples

This page provides practical examples of working with captions in Remotion, from basic rendering to advanced use cases.

## Basic Caption Rendering

Here's a simple example of rendering captions over a video:

```tsx twoslash title="Basic caption rendering"
import React from 'react';
import {useCurrentFrame, useVideoConfig, interpolate} from 'remotion';
import type {Caption} from '@remotion/captions';

interface CaptionProps {
  captions: Caption[];
}

export const BasicCaptionRenderer: React.FC<CaptionProps> = ({captions}) => {
  const frame = useCurrentFrame();
  const {fps} = useVideoConfig();

  // Convert frame to milliseconds
  const currentTimeMs = (frame / fps) * 1000;

  // Find the caption that should be displayed at the current time
  const currentCaption = captions.find((caption) => currentTimeMs >= caption.startMs && currentTimeMs <= caption.endMs);

  if (!currentCaption) {
    return null;
  }

  return (
    <div
      style={{
        position: 'absolute',
        bottom: 50,
        left: 0,
        right: 0,
        textAlign: 'center',
        backgroundColor: 'rgba(0, 0, 0, 0.7)',
        color: 'white',
        padding: '10px 20px',
        margin: '0 50px',
        borderRadius: 8,
        fontSize: 24,
        fontFamily: 'Arial, sans-serif',
      }}
    >
      {currentCaption.text}
    </div>
  );
};
```

## Animated Captions

Add smooth fade-in and fade-out animations to your captions:

```tsx twoslash title="Animated captions with fade effects"
import React from 'react';
import {useCurrentFrame, useVideoConfig, interpolate} from 'remotion';
import type {Caption} from '@remotion/captions';

interface AnimatedCaptionProps {
  captions: Caption[];
  fadeInDurationMs?: number;
  fadeOutDurationMs?: number;
}

export const AnimatedCaptions: React.FC<AnimatedCaptionProps> = ({captions, fadeInDurationMs = 200, fadeOutDurationMs = 200}) => {
  const frame = useCurrentFrame();
  const {fps} = useVideoConfig();

  const currentTimeMs = (frame / fps) * 1000;

  const currentCaption = captions.find((caption) => currentTimeMs >= caption.startMs && currentTimeMs <= caption.endMs);

  if (!currentCaption) {
    return null;
  }

  // Calculate opacity based on fade in/out
  const fadeInProgress = Math.min(1, (currentTimeMs - currentCaption.startMs) / fadeInDurationMs);

  const fadeOutProgress = Math.min(1, (currentCaption.endMs - currentTimeMs) / fadeOutDurationMs);

  const opacity = Math.min(fadeInProgress, fadeOutProgress);

  // Scale animation for entrance
  const scale = interpolate(currentTimeMs, [currentCaption.startMs, currentCaption.startMs + fadeInDurationMs], [0.8, 1], {extrapolateRight: 'clamp'});

  return (
    <div
      style={{
        position: 'absolute',
        bottom: 50,
        left: 0,
        right: 0,
        textAlign: 'center',
        opacity,
        transform: `scale(${scale})`,
        transition: 'all 0.1s ease-out',
      }}
    >
      <div
        style={{
          backgroundColor: 'rgba(0, 0, 0, 0.8)',
          color: 'white',
          padding: '12px 24px',
          margin: '0 50px',
          borderRadius: 12,
          fontSize: 24,
          fontFamily: 'Arial, sans-serif',
          fontWeight: 'bold',
          textShadow: '2px 2px 4px rgba(0, 0, 0, 0.5)',
        }}
      >
        {currentCaption.text}
      </div>
    </div>
  );
};
```

## TikTok-Style Captions

Use Remotion's built-in TikTok-style caption formatting:

```tsx twoslash title="TikTok-style captions"
import React from 'react';
import {useCurrentFrame, useVideoConfig} from 'remotion';
import {createTikTokStyleCaptions} from '@remotion/captions';
import type {Caption} from '@remotion/captions';

interface TikTokCaptionProps {
  captions: Caption[];
}

export const TikTokStyleCaptions: React.FC<TikTokCaptionProps> = ({captions}) => {
  const frame = useCurrentFrame();
  const {fps} = useVideoConfig();

  const currentTimeMs = (frame / fps) * 1000;

  // Create TikTok-style caption pages
  const tikTokCaptions = createTikTokStyleCaptions({
    captions,
    combineTokensWithinMilliseconds: 200,
  });

  // Find current page
  const currentPage = tikTokCaptions.pages.find((page) => currentTimeMs >= page.startMs && currentTimeMs <= page.endMs);

  if (!currentPage) {
    return null;
  }

  return (
    <div
      style={{
        position: 'absolute',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        textAlign: 'center',
        maxWidth: '80%',
      }}
    >
      {currentPage.captions.map((caption, index) => {
        const isActive = currentTimeMs >= caption.startMs && currentTimeMs <= caption.endMs;

        return (
          <span
            key={index}
            style={{
              fontSize: 32,
              fontWeight: 'bold',
              fontFamily: 'Arial, sans-serif',
              backgroundColor: isActive ? 'yellow' : 'white',
              color: isActive ? 'black' : 'black',
              padding: '2px 4px',
              margin: '0 2px',
              borderRadius: 4,
              textShadow: '2px 2px 4px rgba(0, 0, 0, 0.7)',
            }}
          >
            {caption.text}
          </span>
        );
      })}
    </div>
  );
};
```

## Word-by-Word Highlighting

Highlight individual words as they're spoken:

```tsx twoslash title="Word-by-word highlighting"
import React from 'react';
import {useCurrentFrame, useVideoConfig, interpolate} from 'remotion';
import type {Caption} from '@remotion/captions';

interface WordHighlightProps {
  captions: Caption[];
}

export const WordByWordHighlight: React.FC<WordHighlightProps> = ({captions}) => {
  const frame = useCurrentFrame();
  const {fps} = useVideoConfig();

  const currentTimeMs = (frame / fps) * 1000;

  // Group captions by sentences (assuming each caption is a word)
  const sentences = groupCaptionsBySentence(captions);

  const currentSentence = sentences.find((sentence) => currentTimeMs >= sentence.startMs && currentTimeMs <= sentence.endMs);

  if (!currentSentence) {
    return null;
  }

  return (
    <div
      style={{
        position: 'absolute',
        bottom: 80,
        left: 0,
        right: 0,
        textAlign: 'center',
        padding: '0 40px',
      }}
    >
      <div
        style={{
          backgroundColor: 'rgba(0, 0, 0, 0.8)',
          padding: '16px 24px',
          borderRadius: 12,
          display: 'inline-block',
        }}
      >
        {currentSentence.words.map((word, index) => {
          const isActive = currentTimeMs >= word.startMs && currentTimeMs <= word.endMs;

          const willBeActive = currentTimeMs < word.startMs;

          // Add animation for upcoming words
          const scale = willBeActive ? interpolate(currentTimeMs, [word.startMs - 200, word.startMs], [1, 1.1], {extrapolateLeft: 'clamp', extrapolateRight: 'clamp'}) : 1;

          return (
            <span
              key={index}
              style={{
                fontSize: 28,
                fontWeight: 'bold',
                fontFamily: 'Arial, sans-serif',
                color: isActive ? '#FFD700' : 'white',
                margin: '0 4px',
                transform: `scale(${isActive ? 1.1 : scale})`,
                display: 'inline-block',
                transition: 'all 0.1s ease-out',
                textShadow: isActive ? '0 0 20px #FFD700, 2px 2px 4px rgba(0, 0, 0, 0.8)' : '2px 2px 4px rgba(0, 0, 0, 0.8)',
              }}
            >
              {word.text}
            </span>
          );
        })}
      </div>
    </div>
  );
};

// Helper function to group word-level captions into sentences
function groupCaptionsBySentence(captions: Caption[]) {
  const sentences = [];
  let currentSentence = {
    words: [] as Caption[],
    startMs: 0,
    endMs: 0,
  };

  for (const caption of captions) {
    if (currentSentence.words.length === 0) {
      currentSentence.startMs = caption.startMs;
    }

    currentSentence.words.push(caption);
    currentSentence.endMs = caption.endMs;

    // End sentence on punctuation
    if (caption.text.match(/[.!?]$/)) {
      sentences.push({...currentSentence});
      currentSentence = {words: [], startMs: 0, endMs: 0};
    }
  }

  // Add remaining words as a sentence
  if (currentSentence.words.length > 0) {
    sentences.push(currentSentence);
  }

  return sentences;
}
```

## Complete Example: Video with Generated Captions

Here's a complete example that combines video content with auto-generated captions:

```tsx twoslash title="Complete video with captions example"
import React from 'react';
import {Composition, useCurrentFrame, useVideoConfig, Video, Audio, staticFile, delayRender, continueRender} from 'remotion';
import {transcribe, toCaptions} from '@remotion/install-whisper-cpp';
import type {Caption} from '@remotion/captions';

// Component that generates and displays captions
const VideoWithCaptions: React.FC = () => {
  const [captions, setCaptions] = React.useState<Caption[]>([]);
  const [handle] = React.useState(() => delayRender());

  const frame = useCurrentFrame();
  const {fps} = useVideoConfig();
  const currentTimeMs = (frame / fps) * 1000;

  React.useEffect(() => {
    // Generate captions from the audio track
    const generateCaptions = async () => {
      try {
        // This would typically be done in a build step or server-side
        const whisperOutput = await transcribe({
          inputPath: './public/audio-track.wav', // Pre-converted to 16kHz WAV
          whisperPath: './whisper.cpp',
          whisperCppVersion: '1.5.5',
          model: 'medium.en',
          tokenLevelTimestamps: true,
        });

        const {captions} = toCaptions({whisperCppOutput: whisperOutput});
        setCaptions(captions);
      } catch (error) {
        console.error('Failed to generate captions:', error);
        // You might want to load pre-generated captions as fallback
      } finally {
        continueRender(handle);
      }
    };

    generateCaptions();
  }, [handle]);

  const currentCaption = captions.find((caption) => currentTimeMs >= caption.startMs && currentTimeMs <= caption.endMs);

  return (
    <div style={{position: 'relative', width: '100%', height: '100%'}}>
      {/* Background video */}
      <Video src={staticFile('background-video.mp4')} style={{width: '100%', height: '100%', objectFit: 'cover'}} />

      {/* Audio track */}
      <Audio src={staticFile('audio-track.mp3')} />

      {/* Caption overlay */}
      {currentCaption && (
        <div
          style={{
            position: 'absolute',
            bottom: 60,
            left: 0,
            right: 0,
            textAlign: 'center',
            zIndex: 10,
          }}
        >
          <div
            style={{
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              color: 'white',
              padding: '12px 24px',
              margin: '0 60px',
              borderRadius: 8,
              fontSize: 24,
              fontFamily: 'Arial, sans-serif',
              fontWeight: 'bold',
              lineHeight: 1.4,
              textShadow: '2px 2px 4px rgba(0, 0, 0, 0.5)',
            }}
          >
            {currentCaption.text}
          </div>
        </div>
      )}

      {/* Optional: confidence indicator */}
      {currentCaption && currentCaption.confidence !== null && (
        <div
          style={{
            position: 'absolute',
            top: 20,
            right: 20,
            backgroundColor: 'rgba(0, 0, 0, 0.6)',
            color: 'white',
            padding: '4px 8px',
            borderRadius: 4,
            fontSize: 12,
            fontFamily: 'monospace',
          }}
        >
          Confidence: {Math.round((currentCaption.confidence || 0) * 100)}%
        </div>
      )}
    </div>
  );
};

// Export as a Remotion composition
export const CaptionedVideo: React.FC = () => {
  return (
    <Composition
      id="captioned-video"
      component={VideoWithCaptions}
      durationInFrames={900} // 30 seconds at 30fps
      fps={30}
      width={1920}
      height={1080}
    />
  );
};
```

## Performance Tips

### Memoize Caption Lookups

For better performance with many captions, memoize the caption lookup:

```tsx twoslash title="Optimized caption lookup"
import React from 'react';
import {useCurrentFrame, useVideoConfig} from 'remotion';
import type {Caption} from '@remotion/captions';

function useMemoizedCaption(captions: Caption[]) {
  const frame = useCurrentFrame();
  const {fps} = useVideoConfig();

  return React.useMemo(() => {
    const currentTimeMs = (frame / fps) * 1000;
    return captions.find((caption) => currentTimeMs >= caption.startMs && currentTimeMs <= caption.endMs);
  }, [captions, frame, fps]);
}

export const OptimizedCaptions: React.FC<{captions: Caption[]}> = ({captions}) => {
  const currentCaption = useMemoizedCaption(captions);

  if (!currentCaption) return null;

  return <div>{currentCaption.text}</div>;
};
```

## See Also

- [`createTikTokStyleCaptions()`](/docs/captions/create-tiktok-style-captions) - Format captions for TikTok-style display
- [Importing Captions](/docs/captions-guide/importing) - Import existing caption files
- [Generating Captions](/docs/captions-guide/generating) - Generate captions from audio
- [`@remotion/captions`](/docs/captions) - Core caption utilities
